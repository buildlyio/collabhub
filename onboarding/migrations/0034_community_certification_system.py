# Generated by Django 3.2.16 on 2026-01-16 23:21

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('onboarding', '0033_add_wellfound_profile'),
    ]

    operations = [
        migrations.CreateModel(
            name='CertificationProject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="e.g., 'Build a REST API with Authentication'", max_length=255)),
                ('description', models.TextField(help_text='Detailed project requirements')),
                ('project_type', models.CharField(choices=[('small', 'Small Project'), ('medium', 'Medium Project'), ('complex', 'Complex Project'), ('document', 'Document/PRD')], default='medium', max_length=20)),
                ('requirements_checklist', models.TextField(blank=True, default='[]', help_text="JSON list of requirements, e.g., ['Has README', 'Includes tests', 'Deployed']")),
                ('example_repo', models.URLField(blank=True, help_text='Link to example project')),
                ('rubric_document', models.FileField(blank=True, null=True, upload_to='certification_projects/')),
                ('max_score', models.PositiveIntegerField(default=100)),
                ('passing_score', models.PositiveIntegerField(default=70)),
                ('order', models.PositiveIntegerField(default=0, help_text='Order within certification level')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['certification_level', 'order'],
            },
        ),
        migrations.CreateModel(
            name='CertificationTrack',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key', models.CharField(choices=[('frontend', 'Frontend Developer'), ('backend', 'Backend Developer'), ('product_manager', 'Product Manager')], max_length=50, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(help_text='Description of this certification track')),
                ('icon', models.CharField(default='code', help_text='Icon name for display', max_length=50)),
                ('color', models.CharField(default='#3B82F6', help_text='Hex color for track branding', max_length=7)),
                ('focus_methodology', models.CharField(blank=True, help_text="e.g., 'RAD Process' for Product Manager", max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('order', models.PositiveIntegerField(default=0, help_text='Display order')),
            ],
            options={
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='CommunityBadge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key', models.CharField(help_text="Unique identifier, e.g., 'first_contribution'", max_length=50, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(help_text='What this badge represents')),
                ('badge_type', models.CharField(choices=[('contribution', 'Contribution Badge'), ('achievement', 'Achievement Badge'), ('leadership', 'Leadership Badge'), ('special', 'Special Badge')], default='achievement', max_length=20)),
                ('icon', models.CharField(default='ðŸŒŸ', help_text='Emoji or icon class', max_length=50)),
                ('color', models.CharField(default='#FCD34D', help_text='Badge background color', max_length=7)),
                ('auto_award', models.BooleanField(default=False, help_text='Can be automatically awarded based on criteria')),
                ('criteria_type', models.CharField(blank=True, help_text="e.g., 'github_commits', 'quiz_completed'", max_length=50)),
                ('criteria_threshold', models.PositiveIntegerField(blank=True, help_text='Threshold value for auto-award', null=True)),
                ('order', models.PositiveIntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['order', 'name'],
            },
        ),
        migrations.AddField(
            model_name='certificationlevel',
            name='track',
            field=models.CharField(choices=[('frontend', 'Frontend Developer'), ('backend', 'Backend Developer'), ('product_manager', 'Product Manager'), ('ai', 'AI/ML Developer'), ('general', 'General')], default='general', help_text='Certification track', max_length=50),
        ),
        migrations.CreateModel(
            name='DeveloperPublicProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_public', models.BooleanField(default=True, help_text='Show profile on public pages')),
                ('show_email', models.BooleanField(default=False)),
                ('show_github_stats', models.BooleanField(default=True)),
                ('show_certifications', models.BooleanField(default=True)),
                ('show_badges', models.BooleanField(default=True)),
                ('show_projects', models.BooleanField(default=True)),
                ('show_skills', models.BooleanField(default=True)),
                ('headline', models.CharField(blank=True, help_text="e.g., 'Full-Stack Developer & Open Source Enthusiast'", max_length=255)),
                ('location', models.CharField(blank=True, max_length=100)),
                ('website', models.URLField(blank=True)),
                ('twitter', models.CharField(blank=True, help_text='Twitter/X username', max_length=100)),
                ('featured_project_url', models.URLField(blank=True, help_text='GitHub URL of featured repo')),
                ('featured_project_description', models.CharField(blank=True, max_length=255)),
                ('github_commits', models.PositiveIntegerField(default=0)),
                ('github_repos', models.PositiveIntegerField(default=0)),
                ('github_prs', models.PositiveIntegerField(default=0)),
                ('github_stats_updated', models.DateTimeField(blank=True, null=True)),
                ('slug', models.SlugField(blank=True, max_length=100, unique=True)),
                ('openbuild_synced', models.BooleanField(default=False)),
                ('openbuild_sync_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('developer', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='public_profile', to='onboarding.teammember')),
            ],
            options={
                'verbose_name': 'Developer Public Profile',
                'verbose_name_plural': 'Developer Public Profiles',
            },
        ),
        migrations.CreateModel(
            name='CommunityCertificationLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('level', models.PositiveIntegerField(choices=[(1, 'Level 1 - Foundation'), (2, 'Level 2 - Practitioner'), (3, 'Level 3 - Senior')])),
                ('name', models.CharField(help_text="e.g., 'Frontend Developer Level 1'", max_length=255)),
                ('description', models.TextField(help_text='What this level demonstrates')),
                ('required_resources_count', models.PositiveIntegerField(default=6, help_text='Min resources to complete')),
                ('required_quizzes_count', models.PositiveIntegerField(default=3, help_text='Number of quizzes required')),
                ('required_projects_count', models.PositiveIntegerField(default=2, help_text='Projects requiring review')),
                ('min_quiz_score', models.PositiveIntegerField(default=70, help_text='Minimum passing score %')),
                ('badge_icon', models.CharField(blank=True, help_text='Badge icon URL or emoji', max_length=100)),
                ('badge_color', models.CharField(default='#3B82F6', max_length=7)),
                ('min_reviewer_level', models.PositiveIntegerField(default=2, help_text='Min level required to review projects for this cert')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('certification_level', models.OneToOneField(blank=True, help_text='Linked CertificationLevel for certificate generation', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_level', to='onboarding.certificationlevel')),
                ('quizzes', models.ManyToManyField(blank=True, related_name='community_cert_levels', to='onboarding.Quiz')),
                ('resources', models.ManyToManyField(blank=True, related_name='community_cert_levels', to='onboarding.Resource')),
                ('track', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='levels', to='onboarding.certificationtrack')),
            ],
            options={
                'ordering': ['track', 'level'],
                'unique_together': {('track', 'level')},
            },
        ),
        migrations.CreateModel(
            name='CertifiedReviewer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reviewer_level', models.PositiveIntegerField(default=2, help_text='1=L1 only, 2=L1+L2, 3=All levels')),
                ('can_review_frontend', models.BooleanField(default=False)),
                ('can_review_backend', models.BooleanField(default=False)),
                ('can_review_product', models.BooleanField(default=False)),
                ('total_reviews_completed', models.PositiveIntegerField(default=0)),
                ('average_review_time_days', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('approved_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True, help_text='Admin notes about this reviewer')),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_reviewers', to=settings.AUTH_USER_MODEL)),
                ('developer', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='reviewer_status', to='onboarding.teammember')),
            ],
            options={
                'ordering': ['-reviewer_level', 'developer__first_name'],
            },
        ),
        migrations.CreateModel(
            name='CertificationProjectSubmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Project title', max_length=255)),
                ('description', models.TextField(help_text='Brief description of what was built')),
                ('repository_url', models.URLField(help_text='GitHub/GitLab repository URL')),
                ('live_url', models.URLField(blank=True, help_text='Live demo URL if applicable')),
                ('documentation', models.FileField(blank=True, null=True, upload_to='certification_submissions/')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('submitted', 'Submitted for Review'), ('under_review', 'Under Review'), ('revisions_needed', 'Revisions Needed'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='draft', max_length=20)),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('final_score', models.PositiveIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('developer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cert_project_submissions', to='onboarding.teammember')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cert_submissions', to='onboarding.certificationproject')),
            ],
            options={
                'verbose_name': 'Certification Project Submission',
                'verbose_name_plural': 'Certification Project Submissions',
                'ordering': ['-created_at'],
                'unique_together': {('developer', 'project')},
            },
        ),
        migrations.AddField(
            model_name='certificationproject',
            name='certification_level',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='required_projects', to='onboarding.communitycertificationlevel'),
        ),
        migrations.CreateModel(
            name='DeveloperCertificationProgress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('not_started', 'Not Started'), ('in_progress', 'In Progress'), ('pending_review', 'Pending Project Review'), ('completed', 'Completed')], default='not_started', max_length=20)),
                ('average_quiz_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('started_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('certification_level', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='developer_progress', to='onboarding.communitycertificationlevel')),
                ('developer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='certification_progress', to='onboarding.teammember')),
                ('issued_certificate', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='certification_progress', to='onboarding.developercertification')),
                ('quizzes_passed', models.ManyToManyField(blank=True, related_name='passed_by_progress', to='onboarding.Quiz')),
                ('resources_completed', models.ManyToManyField(blank=True, related_name='completed_by_progress', to='onboarding.Resource')),
            ],
            options={
                'verbose_name_plural': 'Developer Certification Progress',
                'ordering': ['certification_level__track', 'certification_level__level'],
                'unique_together': {('developer', 'certification_level')},
            },
        ),
        migrations.CreateModel(
            name='DeveloperBadge',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('awarded_at', models.DateTimeField(auto_now_add=True)),
                ('notes', models.TextField(blank=True, help_text='Why badge was awarded')),
                ('verification_hash', models.CharField(blank=True, max_length=64)),
                ('awarded_by', models.ForeignKey(blank=True, help_text='Admin who awarded, null if auto-awarded', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('badge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='awarded_to', to='onboarding.communitybadge')),
                ('developer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='community_badges', to='onboarding.teammember')),
            ],
            options={
                'ordering': ['-awarded_at'],
                'unique_together': {('developer', 'badge')},
            },
        ),
        migrations.CreateModel(
            name='CertificationProjectReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code_quality_score', models.PositiveIntegerField(choices=[(0, '0'), (1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5'), (6, '6'), (7, '7'), (8, '8'), (9, '9'), (10, '10'), (11, '11'), (12, '12'), (13, '13'), (14, '14'), (15, '15'), (16, '16'), (17, '17'), (18, '18'), (19, '19'), (20, '20'), (21, '21'), (22, '22'), (23, '23'), (24, '24'), (25, '25')], default=0, help_text='Code quality and best practices (0-25)')),
                ('functionality_score', models.PositiveIntegerField(choices=[(0, '0'), (1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5'), (6, '6'), (7, '7'), (8, '8'), (9, '9'), (10, '10'), (11, '11'), (12, '12'), (13, '13'), (14, '14'), (15, '15'), (16, '16'), (17, '17'), (18, '18'), (19, '19'), (20, '20'), (21, '21'), (22, '22'), (23, '23'), (24, '24'), (25, '25')], default=0, help_text='Functionality and correctness (0-25)')),
                ('documentation_score', models.PositiveIntegerField(choices=[(0, '0'), (1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5'), (6, '6'), (7, '7'), (8, '8'), (9, '9'), (10, '10'), (11, '11'), (12, '12'), (13, '13'), (14, '14'), (15, '15'), (16, '16'), (17, '17'), (18, '18'), (19, '19'), (20, '20'), (21, '21'), (22, '22'), (23, '23'), (24, '24'), (25, '25')], default=0, help_text='README, comments, docs (0-25)')),
                ('creativity_score', models.PositiveIntegerField(choices=[(0, '0'), (1, '1'), (2, '2'), (3, '3'), (4, '4'), (5, '5'), (6, '6'), (7, '7'), (8, '8'), (9, '9'), (10, '10'), (11, '11'), (12, '12'), (13, '13'), (14, '14'), (15, '15'), (16, '16'), (17, '17'), (18, '18'), (19, '19'), (20, '20'), (21, '21'), (22, '22'), (23, '23'), (24, '24'), (25, '25')], default=0, help_text='Problem-solving and innovation (0-25)')),
                ('overall_feedback', models.TextField(help_text='Overall feedback for the developer')),
                ('strengths', models.TextField(blank=True, help_text='What was done well')),
                ('improvements', models.TextField(blank=True, help_text='Areas for improvement')),
                ('is_complete', models.BooleanField(default=False)),
                ('reviewed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('reviewer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cert_project_reviews_given', to='onboarding.teammember')),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reviews', to='onboarding.certificationprojectsubmission')),
            ],
            options={
                'verbose_name': 'Certification Project Review',
                'verbose_name_plural': 'Certification Project Reviews',
                'ordering': ['-created_at'],
                'unique_together': {('submission', 'reviewer')},
            },
        ),
    ]
